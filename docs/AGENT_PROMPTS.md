–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –ë—ã—Å—Ç—Ä–æ–π –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP
üéØ –ü—Ä–æ–º–ø—Ç –¥–ª—è –ì–õ–ê–í–ù–û–ì–û –ê–ì–ï–ù–¢–ê (–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)
–¢—ã - –≥–ª–∞–≤–Ω—ã–π –∞–≥–µ–Ω—Ç-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è penetration testing tool –Ω–∞ Golang.

–ö–û–ù–¢–ï–ö–°–¢:
- –ü—Ä–æ–µ–∫—Ç: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Å–∫–∞–Ω–µ—Ä –ø–æ—Ä—Ç–æ–≤ —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: Go, NATS (messaging), PostgreSQL (storage), Docker
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Main Agent + 3 Sub-Agents (Scanner, Analyzer, Reporter)
- –¶–µ–ª—å: MVP –∑–∞ 2-3 –¥–Ω—è

–¢–í–û–Ø –†–û–õ–¨:
1. –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É SubAgents
2. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏—Ö –∫–æ–¥–∞
3. –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. –°–ª–µ–¥–∏—Ç—å –∑–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê:
pentool/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îú‚îÄ‚îÄ main-agent/
‚îÇ   ‚îú‚îÄ‚îÄ scanner-agent/
‚îÇ   ‚îú‚îÄ‚îÄ analyzer-agent/
‚îÇ   ‚îî‚îÄ‚îÄ reporter-agent/
‚îú‚îÄ‚îÄ internal/
‚îú‚îÄ‚îÄ pkg/
‚îî‚îÄ‚îÄ deployments/

–ü–û–†–Ø–î–û–ö –†–ê–ë–û–¢–´:
1. –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
2. –ó–∞—Ç–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–π SubAgents –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –í –∫–æ–Ω—Ü–µ –ø—Ä–æ–≤–µ–¥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ù–∞—á–Ω–∏ —Å —Å–æ–∑–¥–∞–Ω–∏—è Makefile –∏ docker-compose.yml –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞.

üìù –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è SUBAGENTS –≤ Claude IDE
SubAgent 1: Project Setup & Infrastructure
–°–æ–∑–¥–∞–π –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è penetration testing tool –Ω–∞ Go.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
    - cmd/ –¥–ª—è —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞ –∞–≥–µ–Ω—Ç–æ–≤
    - internal/ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏
    - deployments/ –¥–ª—è Docker –∏ docker-compose
    - pkg/models/ –¥–ª—è –æ–±—â–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

2. –°–æ–∑–¥–∞–π docker-compose.yml —Å:
    - PostgreSQL (–ø–æ—Ä—Ç 5432)
    - Redis (–ø–æ—Ä—Ç 6379)
    - NATS (–ø–æ—Ä—Ç 4222)

3. –°–æ–∑–¥–∞–π Makefile —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
    - build: –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
    - run: –∑–∞–ø—É—Å–∫ docker-compose
    - test: –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
    - clean: –æ—á–∏—Å—Ç–∫–∞

4. –°–æ–∑–¥–∞–π go.mod —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
    - github.com/nats-io/nats.go
    - github.com/lib/pq
    - github.com/sirupsen/logrus

5. –°–æ–∑–¥–∞–π –±–∞–∑–æ–≤—ã–π README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∑–∞–ø—É—Å–∫–∞

–í—ã–≤–µ–¥–∏ –≤—Å–µ —Ñ–∞–π–ª—ã —Å –ø–æ–ª–Ω—ã–º –∫–æ–¥–æ–º.
SubAgent 2: Scanner Agent Implementation
–†–µ–∞–ª–∏–∑—É–π Scanner Agent –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è TCP –ø–æ—Ä—Ç–æ–≤ –Ω–∞ Go.

–§–ê–ô–õ: cmd/scanner-agent/main.go

–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:
1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ NATS (localhost:4222)
2. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–æ–ø–∏–∫ "scan.request"
3. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ TCP –ø–æ—Ä—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ top 20 –¥–ª—è MVP):
    - –ü–æ—Ä—Ç—ã: 21,22,23,25,80,110,443,445,3306,3389,5432,6379,8080,8443,27017
    - Timeout: 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –ø–æ—Ä—Ç
    - Concurrent: –∏—Å–ø–æ–ª—å–∑—É–π goroutines (max 10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

4. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–æ–ø–∏–∫ "scan.result"

–°–¢–†–£–ö–¢–£–†–ê –°–û–û–ë–©–ï–ù–ò–ô:
```go
type ScanRequest struct {
    ID     string   `json:"id"`
    Target string   `json:"target"`
    Ports  []int    `json:"ports"`
}

type ScanResult struct {
    ID     string `json:"id"`
    Target string `json:"target"`
    Port   int    `json:"port"`
    IsOpen bool   `json:"is_open"`
    Error  string `json:"error,omitempty"`
}
–ò—Å–ø–æ–ª—å–∑—É–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ logrus.
–î–æ–±–∞–≤—å graceful shutdown –ø–æ Ctrl+C.
–í—ã–≤–µ–¥–∏ –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∫–æ–¥.

### SubAgent 3: Main Agent API Implementation
–†–µ–∞–ª–∏–∑—É–π Main Agent —Å REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º.
–§–ê–ô–õ: cmd/main-agent/main.go
–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:

REST API –Ω–∞ –ø–æ—Ä—Ç—É 8080:

POST /scan - –Ω–∞—á–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
GET /scan/:id - —Å—Ç–∞—Ç—É—Å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
GET /health - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è


–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

NATS –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–¥–∞—á
PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤


–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–π SQL):

sqlCREATE TABLE IF NOT EXISTS scans (
    id VARCHAR(36) PRIMARY KEY,
    target VARCHAR(255),
    status VARCHAR(20),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS scan_results (
    id SERIAL PRIMARY KEY,
    scan_id VARCHAR(36) REFERENCES scans(id),
    port INTEGER,
    is_open BOOLEAN,
    created_at TIMESTAMP DEFAULT NOW()
);

–õ–æ–≥–∏–∫–∞:

–ü—Ä–∏–Ω—è—Ç—å POST –∑–∞–ø—Ä–æ—Å —Å target
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å UUID –¥–ª—è scan_id
–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "pending"
–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ NATS —Ç–æ–ø–∏–∫ "scan.request"
–°–ª—É—à–∞—Ç—å "scan.result" –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ë–î



–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π net/http.
–î–æ–±–∞–≤—å CORS headers.
–í—ã–≤–µ–¥–∏ –ø–æ–ª–Ω—ã–π –∫–æ–¥ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫.

### SubAgent 4: Analyzer Agent Implementation
–†–µ–∞–ª–∏–∑—É–π Analyzer Agent –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–∞—Ö.
–§–ê–ô–õ: cmd/analyzer-agent/main.go
–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:

–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ NATS —Ç–æ–ø–∏–∫ "scan.result"
–î–ª—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–∏ —Å–µ—Ä–≤–∏—Å:

22 -> SSH (–ø–æ–ø—Ä–æ–±—É–π –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∏—Ç—å –±–∞–Ω–Ω–µ—Ä)
80 -> HTTP (–æ—Ç–ø—Ä–∞–≤—å GET /)
443 -> HTTPS
3306 -> MySQL
5432 -> PostgreSQL
6379 -> Redis
27017 -> MongoDB


–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Ç–æ–ø–∏–∫ "service.detected":

gotype ServiceInfo struct {
    ScanID  string `json:"scan_id"`
    Target  string `json:"target"`
    Port    int    `json:"port"`
    Service string `json:"service"`
    Version string `json:"version,omitempty"`
    Banner  string `json:"banner,omitempty"`
}

–ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑:

Banner grabbing (—á–∏—Ç–∞–π –ø–µ—Ä–≤—ã–µ 1024 –±–∞–π—Ç–∞)
HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤
–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö



–¢–∞–π–º–∞—É—Ç 2 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É.
–í—ã–≤–µ–¥–∏ –ø–æ–ª–Ω—ã–π –∫–æ–¥.

### SubAgent 5: Reporter Agent Implementation
–†–µ–∞–ª–∏–∑—É–π Reporter Agent –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤.
–§–ê–ô–õ: cmd/reporter-agent/main.go
–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:

–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–æ–ø–∏–∫–∏:

"scan.result" - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Ä—Ç–æ–≤
"service.detected" - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–∞—Ö


–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ scan_id
–ö–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω–æ 20 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–ª–∏ –ø—Ä–æ—à–ª–æ 30 —Å–µ–∫—É–Ω–¥:

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å JSON –æ—Ç—á–µ—Ç
–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PostgreSQL
–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∫–∞–Ω–∞ –Ω–∞ "completed"


–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞:

json{
  "scan_id": "uuid",
  "target": "192.168.1.1",
  "timestamp": "2024-01-01T00:00:00Z",
  "duration_ms": 5000,
  "open_ports": [
    {
      "port": 80,
      "service": "HTTP",
      "version": "nginx/1.18"
    }
  ],
  "statistics": {
    "total_ports": 20,
    "open_ports": 3,
    "closed_ports": 17
  }
}
–°–æ—Ö—Ä–∞–Ω–∏ –æ—Ç—á–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É:
sqlCREATE TABLE reports (
    id SERIAL PRIMARY KEY,
    scan_id VARCHAR(36),
    report JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);
–í—ã–≤–µ–¥–∏ –ø–æ–ª–Ω—ã–π –∫–æ–¥.

### SubAgent 6: Integration & Testing
–°–æ–∑–¥–∞–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞.
–§–ê–ô–õ–´:

scripts/start.sh - –∑–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
scripts/test.sh - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
internal/agent/nats_client.go - –æ–±—â–∏–π NATS –∫–ª–∏–µ–Ω—Ç

start.sh –¥–æ–ª–∂–µ–Ω:

–ó–∞–ø—É—Å—Ç–∏—Ç—å docker-compose
–ü–æ–¥–æ–∂–¥–∞—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∞–≥–µ–Ω—Ç—ã –≤ —Ñ–æ–Ω–µ
–í—ã–≤–µ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

test.sh –¥–æ–ª–∂–µ–Ω:

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ scanme.nmap.org
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
–í—ã–≤–µ—Å—Ç–∏ –æ—Ç—á–µ—Ç

nats_client.go –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–ü—É–±–ª–∏–∫–∞—Ü–∏—è/–ø–æ–¥–ø–∏—Å–∫–∞ —Å retry –ª–æ–≥–∏–∫–æ–π
Graceful shutdown

–î–æ–±–∞–≤—å –ø—Ä–∏–º–µ—Ä—ã curl –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API.
–í—ã–≤–µ–¥–∏ –≤—Å–µ —Ñ–∞–π–ª—ã.

---

## üöÄ –ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –î–µ–Ω—å 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
1. –û—Ç–ø—Ä–∞–≤—å –ø—Ä–æ–º–ø—Ç SubAgent 1 ‚Üí –ø–æ–ª—É—á–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
2. –ó–∞–ø—É—Å—Ç–∏ `docker-compose up -d`
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### –î–µ–Ω—å 2: –û—Å–Ω–æ–≤–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
1. SubAgent 2 ‚Üí Scanner Agent
2. SubAgent 3 ‚Üí Main Agent API
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Å–≤—è–∑–∫—É Main ‚Üî Scanner

### –î–µ–Ω—å 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
1. SubAgent 4 ‚Üí Analyzer Agent
2. SubAgent 5 ‚Üí Reporter Agent  
3. SubAgent 6 ‚Üí Integration

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò MVP
```bash
# –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—å:

‚úÖ docker-compose up -d  # –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
‚úÖ make build           # –í—Å–µ –∞–≥–µ–Ω—Ç—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ ./bin/main-agent     # API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ :8080
‚úÖ ./bin/scanner-agent  # –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ NATS
‚úÖ curl -X POST http://localhost:8080/scan -d '{"target":"scanme.nmap.org"}'
‚úÖ curl http://localhost:8080/scan/{id}  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

üí° –°–û–í–ï–¢–´

–ù–∞—á–Ω–∏ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ: –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏ —Ç–æ–ª—å–∫–æ Main + Scanner –∞–≥–µ–Ω—Ç—ã
–ò—Å–ø–æ–ª—å–∑—É–π –ª–æ–≥–∏: –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è
–¢–µ—Å—Ç–∏—Ä—É–π –ø–æ—ç—Ç–∞–ø–Ω–æ: –ù–µ –∑–∞–ø—É—Å–∫–∞–π –≤—Å–µ —Å—Ä–∞–∑—É, –ø—Ä–æ–≤–µ—Ä—è–π –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
scanme.nmap.org: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ü–µ–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è


üîß –ë–´–°–¢–†–´–ï –§–ò–ö–°–´
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
bash# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
docker-compose down
docker-compose up -d
pkill -f agent  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∞–≥–µ–Ω—Ç—ã

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NATS
docker logs pentool_nats_1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PostgreSQL
docker exec -it pentool_postgres_1 psql -U admin -d pentool

# –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
make clean
make build